{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../modules/component/schematics/ng-add/index.ts"],"names":[],"mappings":";;AAAA,yDAMoC;AACpC,0DAA0E;AAC1E,mEAGyC;AAGzC,SAAS,sBAAsB;IAC7B,OAAO,UAAC,IAAU,EAAE,OAAyB;QAC3C,yCAAuB,CACrB,IAAI,EACJ,cAAc,EACd,iBAAiB,EACjB,iCAAe,CAChB,CAAC;QACF,OAAO,CAAC,OAAO,CAAC,IAAI,8BAAsB,EAAE,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;AACJ,CAAC;AAED,mBAAyB,OAAsB;IAC7C,OAAO,UAAC,IAAU,EAAE,OAAyB;QAC3C,OAAO,kBAAK,CAAC;YACX,OAAO,IAAI,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,iBAAI,EAAE,CAAC,CAAC,CAAC,sBAAsB,EAAE;SACvE,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC;AAND,+BAMC","sourcesContent":["import {\n  Rule,\n  SchematicContext,\n  Tree,\n  chain,\n  noop,\n} from '@angular-devkit/schematics';\nimport { NodePackageInstallTask } from '@angular-devkit/schematics/tasks';\nimport {\n  addPackageToPackageJson,\n  platformVersion,\n} from '@ngrx/component/schematics-core';\nimport { Schema as SchemaOptions } from './schema';\n\nfunction addModuleToPackageJson() {\n  return (host: Tree, context: SchematicContext) => {\n    addPackageToPackageJson(\n      host,\n      'dependencies',\n      '@ngrx/component',\n      platformVersion\n    );\n    context.addTask(new NodePackageInstallTask());\n    return host;\n  };\n}\n\nexport default function (options: SchemaOptions): Rule {\n  return (host: Tree, context: SchematicContext) => {\n    return chain([\n      options && options.skipPackageJson ? noop() : addModuleToPackageJson(),\n    ])(host, context);\n  };\n}\n"]}